{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
    <!-- Flash Messages -->
    {% if messages %}
    <div class="mb-4">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show flash-message" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Full-page welcome section -->
    <h1 class="display-4 text-primary">Welcome, {{ request.user | capfirst }}!</h1>
    <p class="lead">Here you can attempt tests, view your progress, and analyze your performance.</p>
    
    <!-- Create the 30% and 70% sections for future content -->
    <div class="row mt-5">
        <!-- 30% section for student action links -->
        <div class="col-md-3">
            <ul class="list-unstyled">
                {% include 'sidebar.html' %}
                <!-- More links can be added in future -->
            </ul>
        </div>

        <!-- 70% section for future content (currently empty) -->
        <div class="col-md-9">
            <!-- Placeholder for future content -->
        </div>
    </div>
</div>

<!-- Script to auto-hide flash messages -->
<script>
    // Auto-hide flash messages after 3 seconds
    setTimeout(() => {
        const flashMessages = document.querySelectorAll('.flash-message');
        flashMessages.forEach((message) => {
            message.classList.remove('show'); // Removes "show" class from alert
            setTimeout(() => message.remove(), 150); // Removes element after fade-out
        });
    }, 3000); // Adjust timeout duration as needed (3000ms = 3 seconds)
</script>
{% endblock %}
